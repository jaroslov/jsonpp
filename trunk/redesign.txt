RECURSIVE DATA STRUCTURE

template <typename T, typename Tag=void>
struct is_recursive : boost::mpl::false_ {};

template <typename T, typename Tag=void>
struct node_reference_union;

template <typename T, typename Tag>
std::pair<typename node_reference_union<T, Tag>::type,
  typename node_reference_union<T, Tag>::type>
children (T const& t, Tag tag) {
  throw 0;
}

template <typename T, typename Tag=void>
struct knows_parent : boost::mpl::false_ {};

template <typename T, typename Tag>
typename node_reference_union<T, Tag>::type
get_parent (T const& t, Tag tag) {
  throw 0;
}